<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SportGlobes</title>
    <link rel="icon" type="image/png" href="./images/logo_ballon-nobg.png" />
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script type="text/javascript" src="./javascript/panier.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./feuilles_de_style/panier.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <header id="header">
            <div class="row">
                <i class="col-2 bi bi-arrow-left-circle-fill" id="fleche_retour"></i>
                <img class="offset-1 offset-md-2 col-6 col-md-4" src="./images/SG_logo-nobg.png" alt="logo">
            </div>
            <div class="row">
                <span class="offset-4 col-4" id="panier_header">PANIER</span>
            </div>
            <div class="row panier_traits">
                <div class="offset-1 col-3 col-md-4 traits"></div>
                <div class="col-4 col-md-2" id="panier_basket"><img src="./images/cart.jpg" alt="panier de basket"></div>
                <div class="col-3 col-md-4 traits"></div>
            </div>
        </header>

        <section class="h-100 mt-5" id="section_produits">
            <div class="container h-100 py-5">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-10">
          
                  <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 class="fw-normal mb-0 text-black">Produits</h3>
                    <div>
                      <p class="mb-0"><span class="text-muted">Trier par:</span> <a href="#!" class="text-body">prix <i class="bi bi-chevron-down"></i></a></p>
                    </div>
                  </div>
                  <div id="card_affiche">
                    <script>
                        let requete = fetch("http://localhost:3000/produits")
                            requete.then(function (response) {
                                response.json().then(function (data) {
                                    let cards = "";
                                    data.forEach((element) => {
                                        cards += `<div class="card rounded-3 mb-4">
                                                    <div class="card-body p-4">
                                                    <div class="row d-flex justify-content-between align-items-center">
                                                        <div class="col-md-2 col-lg-2 col-xl-2 div_image">
                                                            <img src="${element.image}" class="image_panier rounded-3" alt="Card image">
                                                        </div>
                                                        <div class="col-md-3 col-lg-3 col-xl-3">
                                                        <p class="lead fw-normal mb-2">${element.titre}</p>
                                                        <p>${element.description}</p>
                                                        </div>
                                                        <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
                                                            <button class="btn btn-link px-2"
                                                                onclick="this.parentNode.querySelector('input[type=number]').stepDown(); plusUn(${element.prix}, this.parentNode.querySelector('input[type=number]'))">
                                                                <i class="bi bi-dash"></i>
                                                            </button>
                                            
                                                            <input min="1" name="quantity" value="${element.quantite}" type="number"
                                                                class="form-control form-control-sm" />
                                            
                                                            <button class="btn btn-link px-2"
                                                                onclick="this.parentNode.querySelector('input[type=number]').stepUp(); plusUn(${element.prix}, this.parentNode.querySelector('input[type=number]'))">
                                                                <i class="bi bi-plus"></i>
                                                            </button>
                                                        </div>
                                                        <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
                                                            <h5 class="mb-0">${element.prix} €</h5>
                                                        </div>
                                                        <div class="col-md-1 col-lg-1 col-xl-1 text-end">
                                                            <a href="#!" class="text-danger" onclick="trash(this)" title="Supprimer cet article du panier"><i class="bi bi-trash3-fill"></i></a>
                                                        </div>
                                                    </div>
                                                    </div>
                                                </div>`
        
                                    });
                                    document.querySelector("#card_affiche").innerHTML = cards;
                                
                                });
                                
                            });
        
                    </script>
                </div>
          
                  <!-- <div class="card mb-4">
                    <div class="card-body p-4 d-flex flex-row">
                      <div class="form-outline flex-fill">
                        <label class="form-label" for="form1" id="reduction">Code de réduction</label>
                        <input type="text" id="form1" class="form-control form-control-lg" />
                      </div>
                      <button type="button" class="btn btn-outline-warning btn-lg ms-3" id="appliquer_bouton">Appliquer</button>
                    </div>
                  </div> -->
          
                  <div class="card mb-4">
                    <div class="card-body prix_paiement">
                        <div class="row mb-1"><div class="col-8">Sous-total</div><div class="chiffres_paiement col-4">52.98</div></div>
                        <div class="row mb-1"><div class="col-8">Frais de livraison</div><div class="chiffres_paiement col-4">5.99</div></div>
                        <div class="row pt-1 total"><div class="col-8">Total</div><div class="chiffres_paiement col-4">58.97</div></div>
                    </div>
                  </div>

                  <div class="card">
                    <div class="card-body">
                      <button type="button" class="btn btn-primary col-12 btn-lg" id="proceder_paiement" >Procéder au paiement</button>
                    </div>
                  </div>
          
                </div>
              </div>
            </div>
          </section>

        <footer class="row mt-3" id="footer_row">
            <span>Copyright <i class="bi bi-c-circle"></i> 2023 SportGlobes, Tous droits réservés.</span>
            <div><span class="liens_footer"> Mentions Légales</span> | <span class="liens_footer">CGV</span> | <span class="liens_footer">Protection des données personnelles</span> | <span class="liens_footer">Réglage cookies</span></div>
            <span><i class="bi bi-facebook"></i> - <i class="bi bi-instagram"></i> - <i class="bi bi-twitter-x"></i> - <i class="bi bi-linkedin"></i></span>
        </footer>

        <a href="#header" class="retour_haut scroll_down">
            <i class="bi bi-chevron-up"></i>
        </a>

    </div>
    
</body>
</html>